{% extends 'plugins/plugin_base.html' %}{% load i18n %}
{% block content %}
  <h2>{% trans "Create an empty plugin" %}</h2>
  <div class="container rich">
    <div class="cont coloring-6">
      <p>{% trans "Create a plugin entry without uploading a package. This is useful if you want to generate a token and upload versions later via the API." %}</p>
      <p>{% trans "Only the package name and plugin name are required here. All other plugin details (description, author, homepage, etc.) will be automatically populated from the metadata.txt file when you upload your first version." %}</p>
    </div>
  </div>
  <div class="container rich mt-3">
    <div class="cont coloring-2">
      <p class="has-text-weight-bold">
        <i class="fas fa-exclamation-triangle"></i>
        {% trans "Important: The package name you specify below must exactly match the main folder name inside your plugin's zip file when you upload versions later." %}
      </p>
    </div>
  </div>
  {% if form.errors %}
  <div class="notification is-danger is-light">
    <button class="delete" data-dismiss="alert">&times;</button>
    {% trans "The form contains errors and cannot be submitted, please check the fields highlighted in red." %}
  </div>
  {% endif %}
  {% if form.non_field_errors %}
  <div class="notification is-danger is-light">
    <button class="delete" data-dismiss="alert">&times;</button>
    {% for error in form.non_field_errors %}
      {{ error }}<br />
    {% endfor %}
  </div>
  {% endif %}

  <form action="" method="post" class="horizontal" enctype="multipart/form-data">{% csrf_token %}
    {% include "plugins/form_snippet.html" %}
    <div class="mt-3 has-text-centered">
      <button class="button is-success is-medium" type="submit">
        <span class="icon is-small">
          <i class="fas fa-plus"></i>
        </span>
        <span>{% trans "Create plugin" %}</span>
      </button>
    </div>
  </form>
{% endblock %}
